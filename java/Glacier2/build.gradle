// **********************************************************************
//
// Copyright (c) 2003-2015 ZeroC, Inc. All rights reserved.
//
// This copy of Ice is licensed to you under the terms described in the
// ICE_LICENSE file included in this distribution.
//
// **********************************************************************

['callback', 'chat', 'voip'].each {
    def name = it
    project(":demoGlacier2${it.capitalize()}") {
        slice {
            java {
                include = ["${projectDir}", "${sliceDir}"]
                srcDir = '.'
            }
        }

        sourceSets {
            main {
                java {
                    srcDir '.'
                }
            }
        }

        dependencies {
            compile localDependency("ice")
            compile localDependency("glacier2")
            if (!useLocalOnly) {
                runtime "org.apache.tools:bzip2:1.0"
            }
        }

        // Don't create the default jar.
        jar.enabled = false

        // The voip demo has no clientJar.
        if(name != "voip") {
            demoJar("client")
        }

        // The chat demo has no serverJar.
        if(name != "chat") {
            demoJar("server")
        }
    }
}
